# Effective Typescript

## 1장 타입스크립트 알아보기

### 아이템 1. 타입스크립트와 자바스크립트의 관계 이해하기

- 타입스크립트는 문법적으로도 자바스크립트의 상위집합이다.
- 모든 자바스크립트 프로그램이 타입스크립트라는 명제는 참이지만, 그 반대는 성립하지 않는다.
- 타입 시스템의 목표 중 하나는 런타임에 오류를 발생시킬 코드를 미리 찾아 내는 것이다.
  - 그러나 타입 체커가 모든 오류를 찾아내지는 않는다.

```typescript
const states = [
  { name: 'Alabama', capitol: 'Montgomery' },
  { name: 'Alaska', capitol: 'Juneau' },
  { name: 'Arizona', capitol: 'Phoenix' },
];

for (const state of states) {
  console.log(state.capital); // 'capital' 속성이 ... 형식에 없습니다.
}
```

- 위의 예시에서 오류의 원인을 추측할 수는 있겠지만 항상 정확히지는 않다.
  - capitol이 오타로 실수이지만, 타입스크립트는 capital이 오류인지, capitol이 오류인지 판단하지 못한다.
  - 명시적으로 states를 선언하여 의도를 분명하게 하는 것이 좋다.

```typescript
interface State {
  name: string;
  capital: string;
}

const states: State[] = [
  { name: 'Alabama', capitol: 'Montgomery' }, // // 'capital'을 쓰려고 했습니까?
  { name: 'Alaska', capitol: 'Juneau' }, // 'capital'을 쓰려고 했습니까?
  { name: 'Arizona', capitol: 'Phoenix' }, // 'capital'을 쓰려고 했습니까?
];

for (const state of states) {
  console.log(state.capital);
}
```

- 위의 예시는 의도를 명확히 해서 타입스크립트가 잠재적 문제점을 찾을 수 있게 한다.

#### 요약

- 타입스크립트는 자바스크립트의 상위 집합이다.
- 타입스크립트는 런타임 오류를 발생시키는 코드를 찾아내려고 하나, 타입 체커를 통과하면서도 런타임 오류를 발생시키는 코드는 존재할 수 있다.
- 타입스크립트 타입 시스템은 전반적으로 자바스크립트 동작을 모델링한다.

### 아이템 2. 타입스크립트 설정 이해하기

- 타입스크립트 컴파일러는 많은 설정을 가지고 있고, tsconfig.json을 통해 설정한다.
- `noImplicitAny`는 변수들이 미리 정의된 타입을 가져야 하는지 여부를 제어한다.
  - 타입스크립트는 타입 정보를 가질 때 가장 효과적이기 때문에, 되도록 `noImplicitAny`를 설정하자
    - 타입스크립트가 문제를 발견하기 수월해지고, 코드의 가독성이 좋아지며, 개발자의 생산성이 향상된다.
- `strictNullChecks`는 null과 undefined가 모든 타입에서 허용되는지 확인하는 설정이다.
  - null과 undefined 관련 오루를 잡아 내는 데 많은 도움이 되지만, 코드 작성을 어렵게 한다.
- 이 모든 체크를 설정하고 싶다면 `strict` 설정을 하면 된다.

#### 요약

- 타입스크립트 컴파일러는 언어의 핵심 요소에 영향을 미치는 몇 가지 설정을 포함하고 있다.
- 타입스크립트 설정은 커맨드 라인을 이용하기 보다 tsconfig.json을 사용하는 것이 좋다.
- 자바스크립트 프로젝트를 타입스크립트로 전환하는 게 아니라면 `noImplicitAny`를 설정하는 것이 좋다.
- 타입스크립트에서 엄격한 체크를 하고 싶다면 `strict` 설정을 고려한다.
